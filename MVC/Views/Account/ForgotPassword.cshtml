@model MVC.Security.Models.ForgotPasswordViewModel
@{
    ViewBag.Title = "¿Olvidó su contraseña?";
}

<script>

    var hasDataChanged = false;
    $(document).ready(function () {
        $(window).bind('beforeunload', confirmLeave);
        $("#forgotForm input").change(function () {
            hasDataChanged = true;
        });
    });

    function confirmLeave() {
        if (hasDataChanged) {
            return "Se perderán los cambios realizados, ¿Desea continuar?";
        };
    };

    function save() {
        var form = $("#forgotForm");
        if (form.valid()) {
            hasDataChanged = false;
            form.submit();
        }
    };

</script>

<h1>@ViewBag.Title.</h1>

@using (Html.BeginForm("ForgotPassword", "Account", FormMethod.Post, new { @class = "form-horizontal", role = "form", id = "forgotForm" }))
{
    <hr />
    @Html.ValidationSummary("", new { @class = "text-danger" })

    <div class="row">
        <div class="col-10">
            @Html.LabelFor(m => m.Email)
            @Html.TextBoxFor(m => m.Email)
            @Html.ValidationMessageFor(m => m.Email)
        </div>
        <div class="col-1">
            <br />
            <input type="button" class="btn_secundario btn-right" onclick="save();" value="Confirmar" />
        </div>
        <div class="col-1">
            <br />
            @Html.ActionLink("Cancelar", "Index", "Home", new { Area = "" }, new { @class = "btn_secundario btn-right" })
        </div>
    </div>

}
